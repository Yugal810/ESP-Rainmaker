DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "previousDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 1.241200021468103, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:18:26.965Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "previousDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.001241200021468103>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.001241200021468103>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0012444999301806092}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0036082000005990267}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 0.643, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 16:48:28] "GET /api/firmware/list HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 16:48:31] "GET /api/firmware/list HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 16:48:32] "GET /api/firmware/list HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 16:48:32] "GET /api/firmware/list HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 16:48:32] "GET /api/firmware/list HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:48:33] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:48:33] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:48:34] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.001241200021468103>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.001241200021468103>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0007375000277534127}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:48:34] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 5.754, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:48:34] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:48:34] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:48:34] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.910699997097, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:18:36.970Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.693499994464, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:18:46.970Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.367199885659, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:18:56.971Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 16:48:59] "GET /api/firmware/list HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 16:49:00] "GET /api/firmware/list HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 16:49:00] "GET /api/firmware/list HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 16:49:00] "GET /api/firmware/list HTTP/1.1" 200 -
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:04] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008972824160009623>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008972824160009623>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00017090002074837685}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:04] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 1.535, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:04] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:04] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:04] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.394999980927, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:19:06.972Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.530300101265, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:19:16.973Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.82419994194, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:19:26.973Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:35] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009191230217888952>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009191230217888952>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0003784999717026949}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:35] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 6.2170000000000005, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:35] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:35] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:49:35] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.547700048424, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:19:36.975Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.607200035825, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:19:46.976Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.050300033763, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:19:56.976Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:05] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009456157776589992>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009456157776589992>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005504000000655651}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 5.876, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:05] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:05] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:05] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:05] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.921500031836, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:20:06.978Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.682400073856, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:20:16.979Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.94599998556, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:20:26.981Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:35] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009787849145683064>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009787849145683064>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006916000274941325}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:35] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 2.4099999999999997, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:35] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:35] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:50:35] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.198900070041, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:20:36.982Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.564800062217, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:20:46.984Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.958999920636, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:20:56.985Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009001754646467008>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009001754646467008>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0001382000045850873}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:04] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 2.021, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:04] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:04] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:04] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:04] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.158599996008, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:21:06.985Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.878299957141, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:21:16.986Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.022599939257, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:21:26.987Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:35] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008097682382993918>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008097682382993918>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00042729999404400587}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:35] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 2.241, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:35] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:35] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:51:35] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.257200095803, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:21:36.987Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.471299932338, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:21:46.988Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.693500063382, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:21:56.988Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007758629228053002>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:05] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007758629228053002>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00045849999878555536}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 2.023, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:05] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:05] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:05] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:05] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.695100006647, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:22:06.988Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.183399999514, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:22:16.989Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.804200069979, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:22:26.991Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:35] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000919785040982394>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000919785040982394>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0002661000471562147}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:35] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 2.888, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:35] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:35] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:52:35] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.568500042893, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:22:36.991Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.668499968015, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:22:46.992Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.650999951176, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:22:56.993Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:53:05] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008080139456384662>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627282bc4bfe4bd972b63c, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008080139456384662>]>", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.001286200014874339}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"QjdIlFGDQSC2xO0uYOECKQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:53:05] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "durationMS": 7.3309999999999995, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 175, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:53:05] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:53:05] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:53:05] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9997.565899975598, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:23:06.993Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.442699947394, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:23:16.994Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.337799963541, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:23:26.995Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.194799922407, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:23:36.996Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.130799948238, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:23:46.997Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.611499952152, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:23:56.998Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 173, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "driverConnectionId": 1, "serverConnectionId": 173, "serverHost": "localhost", "serverPort": 27017, "awaited": true}

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:
DEBUG:pymongo.topology:{"message": "Server heartbeat failed", "topologyId": {"$oid": "68627282bc4bfe4bd972b63c"}, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 8661.216599983163, "failure": "\"_OperationCancelled('operation cancelled')\"", "driverConnectionId": 1}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "previousDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 23.149300017394125, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:24:20.592Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "previousDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.023149300017394125>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.023149300017394125>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0007826000219210982}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.002268600044772029}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 0.5339999999999999, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.543899998069, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:24:30.595Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:38] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.01867860001511872>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:38] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.01867860001511872>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00034140003845095634}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 1.24, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:38] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:38] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:38] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:39] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:39] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.01867860001511872>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.01867860001511872>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0003342001000419259}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:39] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 4.119000000000001, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:39] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:39] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:39] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.762300005183, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:24:40.596Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:40] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:40] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.015124140018597246>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.015124140018597246>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0003850000211969018}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 2.354, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:40] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:40] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:40] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:54:40] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.071600032039, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:24:50.597Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.718200066127, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:25:00.598Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:05] "GET / HTTP/1.1" 200 -
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:05] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00996412962358445>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00996412962358445>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0009178000036627054}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:05] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 2.584, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:05] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:05] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:05] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET / HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00996412962358445>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00996412962358445>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0010000999318435788}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 4.05, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET / HTTP/1.1" 200 -
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00996412962358445>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00996412962358445>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0008285000221803784}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 3.6830000000000003, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:06] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.82969998382, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:25:10.598Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.569199979305, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:25:20.600Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0067419189714118845>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0067419189714118845>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00017849996220320463}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 1.719, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0067419189714118845>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0067419189714118845>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00040469993837177753}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 6.572, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0067419189714118845>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0067419189714118845>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00034879997838288546}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 2.597, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:27] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:28] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:28] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0067419189714118845>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0067419189714118845>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006325000431388617}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:28] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 3.9230000000000005, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:28] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:28] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:28] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.482200015336, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:25:30.601Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:36] "GET / HTTP/1.1" 200 -
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:36] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00561041517546326>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:36] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00561041517546326>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006620000349357724}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:36] "GET /version HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 4.755, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:36] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:36] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.11679995805, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:25:40.601Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.786199932918, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:25:50.603Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:55] "[32mGET / HTTP/1.1[0m" 302 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:55] "GET /login HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:59] "[32mPOST /login HTTP/1.1[0m" 302 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:59] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:59] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.003836881719804824>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.003836881719804824>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.000416700029745698}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:59] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 2.004, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:59] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:59] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:55:59] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.987399904057, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:26:00.603Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.710300005972, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:26:10.604Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.134899979457, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:26:20.605Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:29] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0027384642536410044>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0027384642536410044>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0012593999272212386}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 3.793, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:29] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:29] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:29] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:29] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.622200012207, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:26:30.606Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.10280003678, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:26:40.607Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.423099962063, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:26:50.608Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:59] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0018565912773493725>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0018565912773493725>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006062000757083297}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:59] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 3.588, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:59] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:59] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:56:59] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.75410005916, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:27:00.609Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.20399999246, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:27:10.611Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.120599986985, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:27:20.612Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:57:29] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0014004803288137225>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686273e4f6b79dade45b06fa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0014004803288137225>]>", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0002856999635696411}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"awjHZIDOSrmeLKngM150Og==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "durationMS": 0.868, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 181, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686273e4f6b79dade45b06fa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:57:29] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:57:29] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:57:29] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:57:29] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.696300015785, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:27:30.612Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 177, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686273e4f6b79dade45b06fa"}, "driverConnectionId": 1, "serverConnectionId": 177, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "686274a9b9b1fb093f927daa"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686274a9b9b1fb093f927daa"}, "previousDescription": "<TopologyDescription id: 686274a9b9b1fb093f927daa, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 686274a9b9b1fb093f927daa, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "686274a9b9b1fb093f927daa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686274a9b9b1fb093f927daa, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686274a9b9b1fb093f927daa, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686274a9b9b1fb093f927daa"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686274a9b9b1fb093f927daa"}, "driverConnectionId": 1, "serverConnectionId": 183, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.6352999480441213, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:27:37.225Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 183, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686274a9b9b1fb093f927daa"}, "previousDescription": "<TopologyDescription id: 686274a9b9b1fb093f927daa, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 686274a9b9b1fb093f927daa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006352999480441213>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686274a9b9b1fb093f927daa, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006352999480441213>]>", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686274a9b9b1fb093f927daa"}, "driverConnectionId": 1, "serverConnectionId": 183, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006666999543085694}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0016726999310776591}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"xCL4nt/qT4KAgQ9jofoOag==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 185, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "durationMS": 0.428, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 185, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686274a9b9b1fb093f927daa"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "previousDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686274f1fd17920bdab9713b"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.6668000714853406, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:28:49.059Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 188, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "previousDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006668000714853406>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006668000714853406>]>", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0008087001042440534}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0022713999496772885}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"UdLsLvw3Sy6Et+tPljQAAw==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 190, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "durationMS": 0.41100000000000003, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 190, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10002.231100108474, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:28:59.062Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 188, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006854200502857566>]>", "clientId": {"$oid": "686274f1fd17920bdab9713b"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006854200502857566>]>", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0002180000301450491}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"UdLsLvw3Sy6Et+tPljQAAw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 190, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:58:59] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "durationMS": 2.748, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 190, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:58:59] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:58:59] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:58:59] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:58:59] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.4268999435, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:29:09.063Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 188, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.808400006965, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:29:19.064Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 188, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.576599966735, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:29:29.065Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 188, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007241030704230072>]>", "clientId": {"$oid": "686274f1fd17920bdab9713b"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007241030704230072>]>", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005176999839022756}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"UdLsLvw3Sy6Et+tPljQAAw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 190, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "durationMS": 2.318, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 190, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007241030704230072>]>", "clientId": {"$oid": "686274f1fd17920bdab9713b"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686274f1fd17920bdab9713b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007241030704230072>]>", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00048559997230768204}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"UdLsLvw3Sy6Et+tPljQAAw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 190, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "durationMS": 3.424, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 190, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686274f1fd17920bdab9713b"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 16:59:29] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.965299968608, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:29:39.066Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 188, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686274f1fd17920bdab9713b"}, "driverConnectionId": 1, "serverConnectionId": 188, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "previousDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862755245b2ebab67cf1973"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.8388999849557877, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:30:26.444Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "previousDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008388999849557877>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008388999849557877>]>", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0009651000145822763}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.014115000027231872}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1+hp9lh6Q+G/PJqx0GUNuQ==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 196, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "durationMS": 0.637, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 196, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.726599992253, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:30:36.448Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.158199945465, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:30:46.448Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.942399979569, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:30:56.449Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.635400017723, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:31:06.449Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.99000004027, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:31:16.451Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.923599952832, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:31:26.451Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.572100001387, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:31:36.453Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.718000017107, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:31:46.453Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.733999953605, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:31:56.453Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.285500009544, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:32:06.454Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.692299985327, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:32:16.456Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.304299941286, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:32:26.458Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:02:33] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.001057393178576154>]>", "clientId": {"$oid": "6862755245b2ebab67cf1973"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.001057393178576154>]>", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00026709993835538626}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1+hp9lh6Q+G/PJqx0GUNuQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 196, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:02:33] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "durationMS": 3.3409999999999997, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 196, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:02:33] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:02:33] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:02:33] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.620600090362, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:32:36.458Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.290400068276, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:32:46.459Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.685400049202, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:32:56.461Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010107357022238457>]>", "clientId": {"$oid": "6862755245b2ebab67cf1973"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010107357022238457>]>", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:03] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.002394900075159967}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1+hp9lh6Q+G/PJqx0GUNuQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 196, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "durationMS": 2.936, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 196, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:03] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:03] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:03] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:03] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.403399928473, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:33:06.462Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.254199977964, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:33:16.462Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.591700034216, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:33:26.463Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:33] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007634638693199769>]>", "clientId": {"$oid": "6862755245b2ebab67cf1973"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862755245b2ebab67cf1973, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007634638693199769>]>", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00020210002548992634}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1+hp9lh6Q+G/PJqx0GUNuQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 196, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:33] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "durationMS": 1.496, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 196, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862755245b2ebab67cf1973"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:33] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:33] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:03:33] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.123399939388, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:33:36.464Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 193, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862755245b2ebab67cf1973"}, "driverConnectionId": 1, "serverConnectionId": 193, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "previousDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.5864000413566828, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:34:25.984Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "previousDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0005864000413566828>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0005864000413566828>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.01371069997549057}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.014733999967575073}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EUWthZYJQXeZCMCw97tzHg==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "durationMS": 0.514, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.822800026275, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:34:35.987Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:04:41] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:04:41] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0031653800280764697>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0031653800280764697>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00021309999283403158}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EUWthZYJQXeZCMCw97tzHg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:04:41] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "durationMS": 1.754, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:04:41] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:04:41] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:04:41] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.040599912405, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:34:45.988Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.690799973905, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:34:55.989Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.350399943069, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:35:05.990Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:12] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0021632057666778567>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0021632057666778567>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006672000745311379}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EUWthZYJQXeZCMCw97tzHg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:12] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "durationMS": 4.485, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:12] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:12] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:12] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.08330005221, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:35:15.990Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.335800064728, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:35:25.992Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.712499975227, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:35:35.992Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0015110157400995497>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0015110157400995497>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:42] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.002119199954904616}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EUWthZYJQXeZCMCw97tzHg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "durationMS": 1.6620000000000001, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:42] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:42] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:42] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:05:42] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.27860009484, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:35:45.992Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.175800010562, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:35:55.993Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.872299958952, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:36:05.993Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0011727472711317304>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0011727472711317304>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005280999466776848}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EUWthZYJQXeZCMCw97tzHg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:12] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "durationMS": 4.8180000000000005, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:12] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:12] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:12] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:12] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.63450001087, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:36:15.993Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.949000029825, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:36:25.994Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.26760001108, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:36:35.995Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:42] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010344306002612743>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010344306002612743>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0015289000002667308}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EUWthZYJQXeZCMCw97tzHg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "durationMS": 2.892, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:42] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:42] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:42] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:06:42] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.816499952227, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:36:45.995Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.647900043987, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:36:55.997Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.55670000054, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:37:05.998Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:12] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009122604444225219>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009122604444225219>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00048209994565695524}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EUWthZYJQXeZCMCw97tzHg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:12] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "durationMS": 3.766, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:12] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:12] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:12] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.522399972193, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:37:15.999Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.294599983841, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:37:26Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.23819990363, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:37:36Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:42] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009750077446003745>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009750077446003745>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0026631999062374234}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EUWthZYJQXeZCMCw97tzHg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "durationMS": 3.928, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:42] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:42] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:42] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:07:42] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.073099974543, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:37:46.002Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.423399985768, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:37:56.003Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.322000007145, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:38:06.003Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.233600053936, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:38:16.005Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:17] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008114873311891276>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686276413e018043f5dd9be3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008114873311891276>]>", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00033469998743385077}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EUWthZYJQXeZCMCw97tzHg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "durationMS": 2.0439999999999996, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 200, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686276413e018043f5dd9be3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:17] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:17] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:17] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:17] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.631000100635, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:38:26.005Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 199, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686276413e018043f5dd9be3"}, "driverConnectionId": 1, "serverConnectionId": 199, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "previousDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.8296999149024487, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:38:35.328Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 205, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "previousDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008296999149024487>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008296999149024487>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005848000291734934}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.015574000077322125}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ufWR/K50RcKT9xawjHHMxA==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "durationMS": 0.412, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.634300056845, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:38:45.330Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 205, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:48] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007789399474859238>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007789399474859238>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0008917000377550721}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ufWR/K50RcKT9xawjHHMxA==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:48] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "durationMS": 6.951, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:48] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:48] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:08:48] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.376600004733, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:38:55.331Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 205, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.25130000338, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:39:05.332Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 205, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008542135506868363>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008542135506868363>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.000256399973295629}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ufWR/K50RcKT9xawjHHMxA==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:12] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "durationMS": 2.263, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:12] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:12] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:12] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:12] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.912500101142, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:39:15.333Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 205, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.44719998166, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:39:25.335Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 205, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.255299917422, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:39:35.335Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 205, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:42] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008274805311039091>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008274805311039091>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0004719001008197665}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ufWR/K50RcKT9xawjHHMxA==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "durationMS": 1.3519999999999999, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:42] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:42] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:42] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:42] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.648900073022, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:39:45.336Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 205, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:54] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:54] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008550044277995827>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862773bc27f9a74f14219a5, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008550044277995827>]>", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0004795999266207218}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ufWR/K50RcKT9xawjHHMxA==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:54] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "durationMS": 6.067, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 206, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862773bc27f9a74f14219a5"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:54] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:54] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:09:54] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.6444999706, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:39:55.336Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 205, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862773bc27f9a74f14219a5"}, "driverConnectionId": 1, "serverConnectionId": 205, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "previousDescription": "<TopologyDescription id: 686277afa840c5c0c875a0f0, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 686277afa840c5c0c875a0f0, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686277afa840c5c0c875a0f0, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686277afa840c5c0c875a0f0, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.5781999789178371, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:40:31.136Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "previousDescription": "<TopologyDescription id: 686277afa840c5c0c875a0f0, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 686277afa840c5c0c875a0f0, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0005781999789178371>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686277afa840c5c0c875a0f0, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0005781999789178371>]>", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0009421000722795725}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0023409000132232904}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9A441pzSTk6Rht2qw0VE7w==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 212, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "durationMS": 0.423, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 212, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686277afa840c5c0c875a0f0"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.61689997185, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:40:41.139Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.346699983813, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:40:51.139Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.766600037925, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:41:01.140Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.684299993329, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:41:11.140Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.872100073844, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:41:21.141Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.772500013933, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:41:31.143Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.370699981228, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:41:41.144Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.776900047436, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:41:51.145Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.161400017329, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:42:01.146Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.223100021482, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:42:11.147Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.832699959166, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:42:21.147Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.3757000193, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:42:31.148Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.548500102013, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:42:41.150Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.920599977486, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:42:51.151Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.213299994357, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:43:01.153Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.723799992353, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:43:11.154Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 211, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686277afa840c5c0c875a0f0"}, "driverConnectionId": 1, "serverConnectionId": 211, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "6862786c29f9dc70fdd12719"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862786c29f9dc70fdd12719"}, "previousDescription": "<TopologyDescription id: 6862786c29f9dc70fdd12719, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 6862786c29f9dc70fdd12719, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "6862786c29f9dc70fdd12719"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862786c29f9dc70fdd12719, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862786c29f9dc70fdd12719, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862786c29f9dc70fdd12719"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862786c29f9dc70fdd12719"}, "driverConnectionId": 1, "serverConnectionId": 217, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.665399944409728, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:43:40.217Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 217, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862786c29f9dc70fdd12719"}, "previousDescription": "<TopologyDescription id: 6862786c29f9dc70fdd12719, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 6862786c29f9dc70fdd12719, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000665399944409728>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862786c29f9dc70fdd12719, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000665399944409728>]>", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862786c29f9dc70fdd12719"}, "driverConnectionId": 1, "serverConnectionId": 217, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.014458400080911815}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.01562059996649623}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"+IpBy0wfQMmwLdPn0MDFXg==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 219, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "durationMS": 0.603, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 219, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862786c29f9dc70fdd12719"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "previousDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.6171000422909856, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:44:07.196Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "previousDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006171000422909856>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006171000422909856>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0010594000341370702}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0021464999299496412}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"oODVQFSzSxyJQf5DId0G9Q==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "durationMS": 0.39399999999999996, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:08] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:08] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:08] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:08] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:08] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006171000422909856>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006171000422909856>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00022679998073726892}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"oODVQFSzSxyJQf5DId0G9Q==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "durationMS": 0.8450000000000001, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:08] "GET /devices HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.384300063364, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:44:17.198Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.92819991894, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:44:27.200Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.640900012106, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:44:37.200Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:38] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006943344091996551>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006943344091996551>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005342999938875437}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"oODVQFSzSxyJQf5DId0G9Q==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:38] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "durationMS": 3.921, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:38] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:38] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:14:38] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.076399952173, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:44:47.201Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.153100001626, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:44:57.203Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.933900031261, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:45:07.204Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:08] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009009896351397039>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009009896351397039>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006989999674260616}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"oODVQFSzSxyJQf5DId0G9Q==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:08] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "durationMS": 2.841, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:08] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:08] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:08] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.030299997889, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:45:17.205Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.947400065139, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:45:27.206Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.083400005475, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:45:37.207Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:38] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000912482705126405>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000912482705126405>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00027029996272176504}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"oODVQFSzSxyJQf5DId0G9Q==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "durationMS": 0.955, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:38] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:38] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:38] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:15:38] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.886600020342, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:45:47.207Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.26960002631, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:45:57.208Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.595599947497, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:46:07.208Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 222, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627887d8fc37290e4e04f3"}, "driverConnectionId": 1, "serverConnectionId": 222, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009557015543947843>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627887d8fc37290e4e04f3, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009557015543947843>]>", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00013890000991523266}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"oODVQFSzSxyJQf5DId0G9Q==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:08] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "durationMS": 1.899, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 224, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627887d8fc37290e4e04f3"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:08] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:08] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:08] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:08] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "previousDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.7808000082150102, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:46:27.016Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 228, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "previousDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007808000082150102>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007808000082150102>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0013516000472009182}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0028600000077858567}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 0.954, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.951700028963, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:46:37.018Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 228, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:38] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007875400129705669>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007875400129705669>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0019029999384656549}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 2.626, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:38] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:38] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:38] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:16:38] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.597200007178, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:46:47.020Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 228, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.02749992907, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:46:57.020Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 228, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:06] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:06] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007539936164394023>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007539936164394023>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:06] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0015580999897792935}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 2.534, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:06] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:06] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:06] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.209200032055, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:47:07.021Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 228, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008292748916894201>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008292748916894201>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00036509998608380556}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 2.8289999999999997, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008292748916894201>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008292748916894201>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00038760004099458456}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 3.913, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008292748916894201>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008292748916894201>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0003130999393761158}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 3.332, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:07] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.421200064011, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:47:17.022Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 228, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:__main__:Created backup: Light_001_light1_20250630_171722.bin
INFO:__main__:New firmware uploaded: Light_001_light1.bin (Hash: 8c74afcc9ac9e1f991a58d18772308b28708cbdb1bdf5ad46df1afce29aed2d0)
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:22] "POST /upload HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:22] "GET /firmware/verify/Light_001_light1.bin HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:22] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:22] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:22] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.031400006264, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:47:27.024Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 228, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:30] "GET /firmware/delete/Light_001_light1_20250630_171722.bin HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:31] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:31] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:31] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.900300008245, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:47:37.025Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 228, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:38] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008586687445804479>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008586687445804479>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00030519999563694}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:38] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 4.602, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:38] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:38] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:38] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:46] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:46] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008586687445804479>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008586687445804479>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:46] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.003950300044380128}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 2.011, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:46] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:46] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:46] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9997.858500108123, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:47:47.025Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 228, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862791313d5fbd1a4cae171"}, "driverConnectionId": 1, "serverConnectionId": 228, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005707000382244587}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 4.4159999999999995, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET / HTTP/1.1" 200 -
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00031260005198419094}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 2.305, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0010911999270319939}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 3.699, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00028309994377195835}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 3.1069999999999998, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862791313d5fbd1a4cae171, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007666749974843863>]>", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00021159998141229153}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zN4LLTb2RjqDmd52TFWurQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "durationMS": 4.623, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 230, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862791313d5fbd1a4cae171"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:17:50] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "previousDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.7925999816507101, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:51:32.148Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "previousDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007925999816507101>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007925999816507101>]>", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0008138000266626477}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.002017499995417893}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1pZ4/2DcQm6s0TpT0B34Dg==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 236, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "durationMS": 0.40099999999999997, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 236, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.920999911614, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:51:42.150Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.251800054684, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:51:52.152Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.93870006781, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:52:02.153Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.715099973604, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:52:12.155Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.373599934392, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:52:22.155Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.933600076474, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:52:32.157Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.203499988653, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:52:42.158Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.667299980298, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:52:52.158Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:01] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:01] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008917465318500996>]>", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008917465318500996>]>", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0002452000044286251}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1pZ4/2DcQm6s0TpT0B34Dg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 236, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:01] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "durationMS": 1.3179999999999998, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 236, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:01] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:01] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:01] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.657699954696, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:53:02.160Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.280600062571, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:53:12.160Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.250900000334, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:53:22.161Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.114099937491, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:53:32.162Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:32] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009272468797110417>]>", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627a44d7e5a13fbac7fd88, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009272468797110417>]>", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0003328999737277627}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"1pZ4/2DcQm6s0TpT0B34Dg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 236, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "durationMS": 1.536, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 236, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:32] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:32] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:32] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:23:32] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.609100002795, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:53:42.163Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.025999965146, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:53:52.164Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.588499962352, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:54:02.164Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 234, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a44d7e5a13fbac7fd88"}, "driverConnectionId": 1, "serverConnectionId": 234, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.048699974082, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:54:03.063Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 240, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.247500021942, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:54:13.064Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 240, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.38730003871, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:54:23.065Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 240, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:24:32] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627a956abbeede3837f29a, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.003351846571387948>]>", "clientId": {"$oid": "68627a956abbeede3837f29a"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627a956abbeede3837f29a, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.003351846571387948>]>", "clientId": {"$oid": "68627a956abbeede3837f29a"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627a956abbeede3837f29a"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627a956abbeede3837f29a"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0007241000421345234}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627a956abbeede3837f29a"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ZNHiS48aTwW+Vp7/xRrsrQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 242, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627a956abbeede3837f29a"}, "durationMS": 2.7529999999999997, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 242, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627a956abbeede3837f29a"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:24:32] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:24:32] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:24:32] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:24:32] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.664400005713, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:54:33.065Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 240, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9997.87490000017, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:54:43.066Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 240, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627a956abbeede3837f29a"}, "driverConnectionId": 1, "serverConnectionId": 240, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "previousDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 8.612200035713613, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:55:18.250Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "previousDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.008612200035713613>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.008612200035713613>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0008087999885901809}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0021927999332547188}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"YhAsQdtKSJqIPt5e+7J+vQ==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "durationMS": 0.484, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.848199986853, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:55:28.253Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:25:29] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:25:30] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.007131220027804375>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.007131220027804375>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005790999857708812}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"YhAsQdtKSJqIPt5e+7J+vQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:25:30] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "durationMS": 6.229, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:25:30] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:25:30] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:25:30] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.242499936372, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:55:38.255Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.128099996597, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:55:48.256Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.972599976696, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:55:58.257Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:00] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.004225663055106998>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.004225663055106998>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0012032999657094479}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"YhAsQdtKSJqIPt5e+7J+vQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:00] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "durationMS": 6.968, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:00] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:00] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:00] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.663500067778, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:56:08.257Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10014.142900006846, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:56:18.272Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.083400005475, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:56:28.272Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:30] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.002511788280752302>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.002511788280752302>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00032590003684163094}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"YhAsQdtKSJqIPt5e+7J+vQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:30] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "durationMS": 3.079, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:30] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:30] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:26:30] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.719700030051, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:56:38.273Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.73239998892, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:56:48.274Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.967800056562, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:56:58.275Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:27:00] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0016591795912006145>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627b2661853cd2588e86d2, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0016591795912006145>]>", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.000493900035507977}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"YhAsQdtKSJqIPt5e+7J+vQ==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:27:00] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "durationMS": 1.2, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 247, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627b2661853cd2588e86d2"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:27:00] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:27:00] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:27:00] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.92349995207, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:57:08.275Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.342200044543, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:57:18.277Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.508499982767, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:57:28.279Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 246, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627b2661853cd2588e86d2"}, "driverConnectionId": 1, "serverConnectionId": 246, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "previousDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.741699943318963, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:58:09.407Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "previousDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000741699943318963>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000741699943318963>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0007918999763205647}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0018189999973401427}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 20.259, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.657999888062, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:58:19.408Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.909099958837, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:58:29.409Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:30] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008042079582810403>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008042079582810403>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0011254999553784728}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:30] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 3.311, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:30] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:30] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:30] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:33] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:33] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008042079582810403>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008042079582810403>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006515000713989139}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:33] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 2.6470000000000002, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:33] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:33] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:28:33] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.652899918146, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:58:39.411Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.259600019082, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:58:49.411Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.12769999355, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:58:59.412Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009731408689543608>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009731408689543608>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0002128999913111329}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:03] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 1.955, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:03] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:03] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:03] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:03] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.285099911503, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:59:09.413Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.544100021012, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:59:19.414Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.143299927004, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:59:29.414Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:33] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008408785270896558>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008408785270896558>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.001379899913445115}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 3.048, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:33] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:33] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:33] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:29:33] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.1417999845, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:59:39.415Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.910399968736, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:59:49.416Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.909300007857, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T11:59:59.416Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009274834096814658>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009274834096814658>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:03] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0012400000123307109}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:03] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 2.521, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:03] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:03] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:03] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.023299944587, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:00:09.418Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.52510006167, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:00:19.418Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.562999932095, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:00:29.419Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:33] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009997923045950493>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009997923045950493>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0010934999445453286}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:33] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 8.282, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:33] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:33] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:30:33] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.376100022346, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:00:39.419Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.850799911655, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:00:49.421Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.199899913743, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:00:59.421Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:03] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009652848645407806>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009652848645407806>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00032079999800771475}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:03] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 5.529, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:03] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:03] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:03] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.17009996716, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:01:09.421Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.474900028668, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:01:19.422Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.094500021078, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:01:29.423Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:33] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007871114549593859>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007871114549593859>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.000938400044105947}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:33] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 2.588, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:33] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:33] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:31:33] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.705800040625, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:01:39.423Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.959100037813, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:01:49.423Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.199100071564, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:01:59.424Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:32:08] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010687747081199335>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68627bd1feea07863bdbe517, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010687747081199335>]>", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00032300001475960016}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"59Nsh9PrRM+kCW1hzMRC3A==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:32:08] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "durationMS": 3.503, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 254, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:32:08] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:32:08] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 17:32:08] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.7430999754, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:02:09.426Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.083899961784, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:02:19.426Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.413299956359, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:02:29.427Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.513799906708, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:02:39.428Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.19940000493, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:02:49.430Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.865900026634, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:02:59.431Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 252, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "driverConnectionId": 1, "serverConnectionId": 252, "serverHost": "localhost", "serverPort": 27017, "awaited": true}

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:
DEBUG:pymongo.topology:{"message": "Server heartbeat failed", "topologyId": {"$oid": "68627bd1feea07863bdbe517"}, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 1535.6578000355512, "failure": "\"_OperationCancelled('operation cancelled')\"", "driverConnectionId": 1}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "6862837802dea206bc3ce174"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "previousDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862837802dea206bc3ce174"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "driverConnectionId": 1, "serverConnectionId": 258, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 28.653500019572675, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:30:49.049Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 258, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "previousDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.028653500019572675>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.028653500019572675>]>", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "driverConnectionId": 1, "serverConnectionId": 258, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00047690002247691154}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.025985300075262785}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"4AH5nIulQHW3zw2C/OX/Nw==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 260, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "durationMS": 0.5569999999999999, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 260, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:00:57] "GET / HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.028653500019572675>]>", "clientId": {"$oid": "6862837802dea206bc3ce174"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.028653500019572675>]>", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00025459995958954096}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"4AH5nIulQHW3zw2C/OX/Nw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 260, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:00:57] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "durationMS": 3.591, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 260, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:00:57] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:00:57] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:00:57] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:00:57] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "driverConnectionId": 1, "serverConnectionId": 258, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10002.005200018175, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:30:59.052Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 258, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "driverConnectionId": 1, "serverConnectionId": 258, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:07] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:07] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.023095540003851056>]>", "clientId": {"$oid": "6862837802dea206bc3ce174"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6862837802dea206bc3ce174, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.023095540003851056>]>", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006271000020205975}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"4AH5nIulQHW3zw2C/OX/Nw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 260, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:07] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "durationMS": 2.5140000000000002, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 260, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:07] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:07] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:07] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "driverConnectionId": 1, "serverConnectionId": 258, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.008700018749, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:31:09.053Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 258, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "driverConnectionId": 1, "serverConnectionId": 258, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 18:01:12] "GET /api/firmware/list HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "driverConnectionId": 1, "serverConnectionId": 258, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.142499942333, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:31:19.053Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 258, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "driverConnectionId": 1, "serverConnectionId": 258, "serverHost": "localhost", "serverPort": 27017, "awaited": true}

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:
DEBUG:pymongo.topology:{"message": "Server heartbeat failed", "topologyId": {"$oid": "6862837802dea206bc3ce174"}, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 3527.6984999654815, "failure": "\"_OperationCancelled('operation cancelled')\"", "driverConnectionId": 1}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "previousDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.7007999811321497, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:31:36.511Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 263, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "previousDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007007999811321497>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007007999811321497>]>", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006504999473690987}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0016726000467315316}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2+ZubCUdRAy++wAhI+AXCg==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 265, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "durationMS": 0.34600000000000003, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 265, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:40] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:40] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007007999811321497>]>", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007007999811321497>]>", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006243000971153378}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2+ZubCUdRAy++wAhI+AXCg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 265, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:40] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "durationMS": 5.472, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 265, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:40] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:40] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:01:40] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 18:01:42] "GET /api/firmware/list HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10002.322899992578, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:31:46.514Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 263, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.607200035825, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:31:56.516Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 263, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.032900017686, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:32:06.518Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 263, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008163207797333598>]>", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 686283a8d9a10ef5af63fd21, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008163207797333598>]>", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00012660003267228603}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2+ZubCUdRAy++wAhI+AXCg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 265, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:02:11] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "durationMS": 1.323, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 265, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:02:11] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:02:11] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:02:11] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:02:11] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.668900039978, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:32:16.519Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 263, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.148099916056, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:32:26.520Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 263, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.963500071317, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:32:36.521Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 263, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "driverConnectionId": 1, "serverConnectionId": 263, "serverHost": "localhost", "serverPort": 27017, "awaited": true}

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:
DEBUG:pymongo.topology:{"message": "Server heartbeat failed", "topologyId": {"$oid": "686283a8d9a10ef5af63fd21"}, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 5060.016000061296, "failure": "\"_OperationCancelled('operation cancelled')\"", "driverConnectionId": 1}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "previousDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 1.5368000604212284, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:38:14.944Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "previousDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0015368000604212284>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0015368000604212284>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.02775500004645437}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.030529599986039102}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 3.548, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.950599904172, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:38:24.947Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.579499988817, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:38:34.949Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.407500076108, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:38:44.950Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 18:08:50] "GET /api/firmware/list HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.149900093675, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:38:54.951Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.60820004344, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:39:04.952Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 18:09:13] "GET /api/firmware/list HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.061399954371, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:39:14.952Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.418799998239, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:39:24.953Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.50939998962, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:39:34.953Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:09:43] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:09:43] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0022052820962283016>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0022052820962283016>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00021319999359548092}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:09:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 2.105, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:09:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:09:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:09:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.036499928683, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:39:44.955Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9997.929399949498, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:39:54.956Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.07429998368, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:40:04.956Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:13] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.001684744434118853>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.001684744434118853>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00037620007060468197}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:13] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 2.0309999999999997, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.087600084953, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:40:14.958Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.327600002289, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:40:24.958Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.460899969563, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:40:34.959Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:43] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0013343307558189034>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0013343307558189034>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00022659997921437025}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 1.8840000000000001, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:10:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.753699939698, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:40:44.959Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.302700093016, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:40:54.961Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.923000064678, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:41:04.961Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:13] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0011466429416658467>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0011466429416658467>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00016309996135532856}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 2.315, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:13] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.938599998131, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:41:14.963Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.282000004314, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:41:24.963Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.996300040744, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:41:34.964Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:43] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010271819714777527>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010271819714777527>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006102999905124307}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 4.724, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:43] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:11:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.037400004454, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:41:44.964Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.775999971665, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:41:54.967Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.884900007397, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:42:04.967Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 18:12:05] "GET /api/firmware/list HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010205475918397611>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010205475918397611>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:13] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0028759000124409795}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 3.2889999999999997, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:13] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.871599953622, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:42:14.969Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.699200037867, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:42:24.970Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.998299918137, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:42:34.972Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:43] "GET /firmware/history HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:43] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:43] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00105843955181847>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00105843955181847>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00018550001550465822}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 0.906, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:12:43] "GET /devices HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.857700033113, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:42:44.972Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.827400082722, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:42:54.973Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.448099988513, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:43:04.975Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.61679999251, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:43:14.975Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:16] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008741285147228936>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008741285147228936>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0007592999609187245}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:16] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 3.532, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:16] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:16] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:16] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.872999964282, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:43:24.977Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.155099969357, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:43:34.977Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:43] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009238502395504538>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009238502395504538>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0008477000519633293}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 3.091, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:43] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:13:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.828399973921, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:43:44.979Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.336499953642, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:43:54.979Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.455600045621, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:44:04.980Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:13] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009767905216242034>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009767905216242034>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00023120001424103975}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 0.852, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:13] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.997899936512, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:44:14.981Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.83429997135, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:44:24.981Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.39709994942, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:44:34.982Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:43] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009920895213387888>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009920895213387888>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0002517999382689595}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 1.916, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:14:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.837100040168, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:44:44.983Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.545500031672, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:44:54.984Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.625399941579, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:45:04.986Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:15:13] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010087146407490245>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010087146407490245>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0007166999857872725}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:15:13] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 1.899, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:15:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:15:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:15:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.256699928083, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:45:14.986Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.497200013138, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:45:24.988Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.193299910985, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:45:34.988Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.33860001713, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:45:44.990Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.284499975853, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:45:54.990Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.355499981903, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:46:04.991Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.48320002295, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:46:14.992Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:16:16] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010229522671018018>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010229522671018018>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0013526000548154116}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 2.347, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:16:16] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:16:16] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:16:16] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:16:16] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.28650003858, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:46:24.993Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.16220002342, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:46:34.993Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.004700035788, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:46:44.994Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.916299944744, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:46:54.995Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.780099955387, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:47:04.995Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.332100036554, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:47:14.996Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:17:21] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010822773174406894>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010822773174406894>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0009675999172031879}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:17:21] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 7.335999999999999, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:17:21] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:17:21] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:17:21] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.132699915208, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:47:24.997Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.378499924205, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:47:34.997Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.014499946497, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:47:44.998Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.230200028047, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:47:54.998Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.605700024404, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:48:04.999Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.810700024478, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:48:14.999Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:18:21] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010167027161876573>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010167027161876573>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005014999769628048}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:18:21] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 2.341, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:18:21] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:18:21] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:18:21] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.38540009316, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:48:25.001Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.976000002585, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:48:35.001Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.50630008243, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:48:45.002Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.522899976, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:48:55.003Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.67959995754, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:49:05.004Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.074299936183, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:49:15.004Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:21] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010097027720963412>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010097027720963412>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005004999693483114}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 1.462, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:21] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:21] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:21] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:21] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.04940002691, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:49:25.006Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.0809999872, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:49:35.006Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:43] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010056457636631025>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010056457636631025>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00015599990729242563}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 3.222, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:19:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.6783999959, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:49:45.007Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.56570006907, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:49:55.008Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.57930010371, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:50:05.010Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009957794456608858>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009957794456608858>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:13] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0010927999392151833}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:13] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 3.8049999999999997, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.827299918048, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:50:15.011Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.076900003478, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:50:25.012Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.310500035994, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:50:35.013Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:43] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00099285269025922>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00099285269025922>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0003920000744983554}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 1.049, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:20:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.620000016876, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:50:45.015Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.21949999407, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:50:55.016Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.631000100635, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:51:05.017Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:13] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009197717921848856>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009197717921848856>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0009379000402987003}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:13] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 5.099, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.428700073622, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:51:15.018Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.391999910586, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:51:25.018Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.567299964838, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:51:35.020Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:43] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009592303263059131>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009592303263059131>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0008800000650808215}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 4.438, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:21:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.43379999604, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:51:45.020Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.073700095527, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:51:55.022Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.483600025997, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:52:05.022Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:13] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009801803349930413>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009801803349930413>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0013918000040575862}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:13] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 7.1850000000000005, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.887899961323, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:52:15.023Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.287899932824, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:52:25.023Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.799199984409, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:52:35.023Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:43] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009865651389780567>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009865651389780567>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0012438999256119132}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 6.812, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:22:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.159900005907, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:52:45.024Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.147299957462, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:52:55.025Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.490300077014, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:53:05.026Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:13] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009788413587328135>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009788413587328135>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00025969999842345715}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:13] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 5.721, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.056499964558, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:53:15.028Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.793899944052, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:53:25.028Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.91910008248, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:53:35.029Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009821227889856266>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:43] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009821227889856266>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0003461000742390752}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 6.042, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:23:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.899100046605, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:53:45.031Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.700999935158, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:53:55.032Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.268799903803, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:54:05.032Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:13] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009758124651357027>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009758124651357027>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005985000170767307}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:13] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 6.208, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.024500022642, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:54:15.033Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.807800049894, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:54:25.034Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.956000014208, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:54:35.035Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:43] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008263319767757636>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008263319767757636>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00031999999191612005}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 5.715999999999999, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:24:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.01609995868, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:54:45.035Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.26549999509, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:54:55.036Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.369200086221, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:55:05.036Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:13] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008685875660125538>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008685875660125538>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005500999977812171}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:13] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 4.67, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:13] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:13] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:13] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.092400005087, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:55:15.038Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.997300048359, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:55:25.038Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.570999993011, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:55:35.039Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:43] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009198904254345488>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628536a5e358c97f1e33e1, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009198904254345488>]>", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0002976999385282397}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"JPAiPdWiRb+0zWUFs3iO2w==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:43] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "durationMS": 1.674, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 271, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:43] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:43] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:25:43] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.196299981326, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:55:45.041Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.56480001472, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:55:55.041Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.509299988858, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T12:56:05.043Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 269, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "driverConnectionId": 1, "serverConnectionId": 269, "serverHost": "localhost", "serverPort": 27017, "awaited": true}

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:
DEBUG:pymongo.topology:{"message": "Server heartbeat failed", "topologyId": {"$oid": "68628536a5e358c97f1e33e1"}, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 5068.023900035769, "failure": "\"_OperationCancelled('operation cancelled')\"", "driverConnectionId": 1}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "previousDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.838699983432889, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:12:54.040Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "previousDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000838699983432889>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000838699983432889>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006634000455960631}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.015993100008927286}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 0.426, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 18:42:57] "GET /api/firmware/list HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.69929996971, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:13:04.041Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.866199981421, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:13:14.042Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:15] "GET / HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:15] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008047199901193382>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008047199901193382>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00029070000164210796}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 1.529, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:15] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:15] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:15] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:15] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.325799988583, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:13:24.043Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.541599954478, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:13:34.043Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.230600031093, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:13:44.043Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:46] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009233494495227933>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009233494495227933>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0001305999467149377}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 1.059, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:46] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:46] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:46] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:43:46] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.785199994221, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:13:54.043Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.942200094461, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:14:04.044Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.972399975173, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:14:14.044Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:16] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009872557000494006>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009872557000494006>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00020250002853572369}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:16] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 1.356, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:16] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:16] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:16] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.480700003915, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:14:24.045Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.528399948962, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:14:34.046Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.44519996643, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:14:44.048Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:46] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009609653287532045>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009609653287532045>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005819000070914626}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:46] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 2.817, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:46] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:46] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:44:46] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.645900028758, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:14:54.049Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.657799955457, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:15:04.050Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.483600025997, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:15:14.051Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:16] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009174606506031636>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009174606506031636>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00016679998952895403}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 0.851, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:16] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:16] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:16] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:16] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.168100068346, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:15:24.052Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.062299961224, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:15:34.052Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.383300008252, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:15:44.053Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:45] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000982736647764739>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.000982736647764739>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.000610999995842576}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:45] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 2.794, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:45] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:45] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:45:45] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.45220006723, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:15:54.054Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.353000010364, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:16:04.055Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.286499922164, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:16:14.055Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009212907549268278>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:16] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009212907549268278>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00014809996355324984}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 0.93, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:16] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:16] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:16] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:16] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.812500085682, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:16:24.055Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.01160004083, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:16:34.056Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.397700001486, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:16:44.057Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:45] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009562328586376163>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009562328586376163>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0016188999870792031}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:45] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 4.877000000000001, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:45] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:45] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:46:45] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.764000065625, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:16:54.058Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.451500014402, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:17:04.059Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.049000023864, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:17:14.061Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:16] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010035880212362592>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010035880212362592>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006880000000819564}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 4.4479999999999995, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:16] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:16] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:16] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:16] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.226400094107, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:17:24.063Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.445200035349, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:17:34.063Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.015199999325, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:17:44.065Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:45] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009904562620660171>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009904562620660171>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00023070001043379307}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 2.3089999999999997, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:45] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:45] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:45] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:47:45] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.226800049655, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:17:54.065Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.995099915192, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:18:04.066Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.230200006627, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:18:14.067Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:15] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009282800242980659>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009282800242980659>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.001914600026793778}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:15] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 2.3040000000000003, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:15] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:15] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:15] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.32559998706, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:18:24.067Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.012299977243, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:18:34.069Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.19260002207, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:18:44.070Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:46] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008770585798415875>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008770585798415875>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0004422999918460846}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:46] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 2.3890000000000002, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:46] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:46] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:48:46] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.4335999256, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:18:54.071Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.068299937993, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:19:04.072Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.21279999055, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:19:14.074Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:49:16] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008432851586381582>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628d56cdef30dca882b561, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008432851586381582>]>", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0006414999952539802}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"INU8zzjGQIa/wl0I1FbBcg==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "durationMS": 1.381, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 276, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:49:16] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:49:16] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:49:16] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:49:16] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.363100039773, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:19:24.075Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.403599998914, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:19:34.075Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.34800004121, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:19:44.076Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.314100015908, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:19:54.077Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.804599909112, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:20:04.079Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 275, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "driverConnectionId": 1, "serverConnectionId": 275, "serverHost": "localhost", "serverPort": 27017, "awaited": true}

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:
DEBUG:pymongo.topology:{"message": "Server heartbeat failed", "topologyId": {"$oid": "68628d56cdef30dca882b561"}, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 7146.706699975766, "failure": "\"_OperationCancelled('operation cancelled')\"", "driverConnectionId": 1}
DEBUG:database:Connecting to MongoDB at: None
DEBUG:pymongo.topology:{"message": "Starting topology monitoring", "topologyId": {"$oid": "68628f76a21b309690738cdc"}}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "previousDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>"}
DEBUG:pymongo.topology:{"message": "Starting server monitoring", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection pool created", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}}
DEBUG:pymongo.serverSelection:{"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "remainingTimeMS": 29999}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverHost": "localhost", "serverPort": 27017, "awaited": false}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": false, "durationMS": 0.8111000061035156, "reply": "{\"helloOk\": true, \"ismaster\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:21:58.837Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.connection:{"message": "Connection pool ready", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.topology:{"message": "Topology description changed", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "previousDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008111000061035156>]>"}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "ping", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008111000061035156>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection created", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.connection:{"message": "Connection ready", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0005087000317871571}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.015534900012426078}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "command": "{\"ping\": 1, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"OMD/gyTTRDSXqn2YiFSEIw==\", \"subType\": \"04\"}}}, \"$db\": \"admin\"}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "durationMS": 0.404, "reply": "{\"ok\": 1.0}", "commandName": "ping", "databaseName": "admin", "requestId": 18467, "operationId": 18467, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Successfully connected to MongoDB
C:\Users\sonpa\AppData\Local\Programs\Python\Python313\Lib\site-packages\flask_limiter\extension.py:336: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.
  warnings.warn(
INFO:__main__:Starting OTA server...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.29.248:8081
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug:127.0.0.1 - - [30/Jun/2025 18:51:59] "GET /api/firmware/list HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10001.7256999854, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:22:08.840Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.872800031677, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:22:18.841Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:52:21] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008473080070689322>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008473080070689322>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00014190003275871277}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"OMD/gyTTRDSXqn2YiFSEIw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "durationMS": 1.065, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:52:21] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:52:21] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:52:21] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:52:21] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.384199967608, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:22:28.842Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.344899948686, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:22:38.843Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.97300002724, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:22:48.845Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.9514000481, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:22:58.845Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.020700041205, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:23:08.847Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.966299928725, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:23:18.847Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:53:21] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009777913341116908>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009777913341116908>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.00017179991118609905}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"OMD/gyTTRDSXqn2YiFSEIw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "durationMS": 1.735, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:53:21] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:53:21] "GET /stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:53:21] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:53:21] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.595900066197, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:23:28.848Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.353599967435, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:23:38.849Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.327500001527, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:23:48.850Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.349299934693, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:23:58.851Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.103100039065, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:24:08.852Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.945300049148, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:24:18.853Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:database:Getting all devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:54:21] "GET /health HTTP/1.1" 200 -
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010156549175129922>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010156549175129922>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.000480600050650537}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"OMD/gyTTRDSXqn2YiFSEIw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:54:21] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "durationMS": 2.06, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:54:21] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:54:21] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:54:21] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.723299941048, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:24:28.853Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.151400057599, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:24:38.854Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.809599947184, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:24:48.855Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.80410002172, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:24:58.857Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.903600033373, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:25:08.857Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.138599960133, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:25:18.858Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:55:21] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00097442836796216>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00097442836796216>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0002747999969869852}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"OMD/gyTTRDSXqn2YiFSEIw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:55:21] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "durationMS": 1.159, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:55:21] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:55:21] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:55:21] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10007.218400016427, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:25:28.865Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.715800047852, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:25:38.867Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9999.72770002205, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:25:48.867Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.379299977794, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:25:58.869Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.377400101162, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:26:08.870Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.280300038867, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:26:18.871Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:21] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008005224839694349>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008005224839694349>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.001000500051304698}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"OMD/gyTTRDSXqn2YiFSEIw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:21] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "durationMS": 7.901999999999999, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:21] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:21] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:21] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.837799998, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:26:28.871Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 9998.612100025639, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:26:38.871Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:46] "GET /health HTTP/1.1" 200 -
DEBUG:database:Getting all devices
DEBUG:pymongo.serverSelection:{"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008622663860561561>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}}
DEBUG:pymongo.serverSelection:{"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 68628f76a21b309690738cdc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008622663860561561>]>", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checkout started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked out", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0007043000077828765}
DEBUG:pymongo.command:{"message": "Command started", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "command": "{\"find\": \"devices\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"OMD/gyTTRDSXqn2YiFSEIw==\", \"subType\": \"04\"}}}, \"$db\": \"smart_home\"}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:46] "GET /stats HTTP/1.1" 200 -
DEBUG:pymongo.command:{"message": "Command succeeded", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "durationMS": 5.153, "reply": "{\"cursor\": {\"ns\": \"smart_home.devices\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "smart_home", "requestId": 41, "operationId": 41, "driverConnectionId": 1, "serverConnectionId": 282, "serverHost": "localhost", "serverPort": 27017}
DEBUG:pymongo.connection:{"message": "Connection checked in", "clientId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "driverConnectionId": 1}
DEBUG:database:Found 0 devices
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:46] "GET /devices HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:46] "GET /version HTTP/1.1" 200 -
INFO:werkzeug:192.168.29.248 - - [30/Jun/2025 18:56:46] "GET /firmware/history HTTP/1.1" 200 -
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.173900043592, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:26:48.872Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}
DEBUG:pymongo.topology:{"message": "Server heartbeat succeeded", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 10000.882699969225, "reply": "{\"isWritablePrimary\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"685c0670454a7f4e3a8b2bea\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2025-06-30T13:26:58.874Z\"}, \"logicalSessionTimeoutMinutes\": 30, \"connectionId\": 281, \"maxWireVersion\": 25, \"ok\": 1.0}"}
DEBUG:pymongo.topology:{"message": "Server heartbeat started", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "driverConnectionId": 1, "serverConnectionId": 281, "serverHost": "localhost", "serverPort": 27017, "awaited": true}

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:

=== Get Devices Request ===
Current devices in database:
DEBUG:pymongo.topology:{"message": "Server heartbeat failed", "topologyId": {"$oid": "68628f76a21b309690738cdc"}, "serverHost": "localhost", "serverPort": 27017, "awaited": true, "durationMS": 1020.8786999573931, "failure": "\"_OperationCancelled('operation cancelled')\"", "driverConnectionId": 1}
